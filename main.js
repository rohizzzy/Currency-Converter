console.log("Main.js is working")
const populate = async (value, currency) => {
    let myStr="";
  //url ="https://api.currencyapi.com/v3/latest?apikey=cur_live_ufMXgqtKGTMuZLkkjoiQZwwm77v9T825ufU4uwjv&base_currency=INR"
  //let response= await fetch(url)
  //let rJson= await response.json();
  document.querySelector('.output').style.display="block"
  let rJson=JSON.parse('{"meta":{"last_updated_at":"2023-10-07T23:59:59Z"},"data":{"ADA":{"code":"ADA","value":0.0464080256},"AED":{"code":"AED","value":0.0441998773},"AFN":{"code":"AFN","value":0.911829852},"ALL":{"code":"ALL","value":1.1992232624},"AMD":{"code":"AMD","value":4.918928069},"ANG":{"code":"ANG","value":0.0214983161},"AOA":{"code":"AOA","value":9.870697769},"ARB":{"code":"ARB","value":0.0138131199},"ARS":{"code":"ARS","value":4.2087117145},"AUD":{"code":"AUD","value":0.0188509185},"AVAX":{"code":"AVAX","value":0.0011589056},"AWG":{"code":"AWG","value":0.0215401907},"AZN":{"code":"AZN","value":0.0204571644},"BAM":{"code":"BAM","value":0.022263294},"BBD":{"code":"BBD","value":0.0240672522},"BDT":{"code":"BDT","value":1.325142555},"BGN":{"code":"BGN","value":0.022167627},"BHD":{"code":"BHD","value":0.0045246434},"BIF":{"code":"BIF","value":34.1365776037},"BMD":{"code":"BMD","value":0.0120336261},"BNB":{"code":"BNB","value":5.65587e-5},"BND":{"code":"BND","value":0.0164206072},"BOB":{"code":"BOB","value":0.0831640439},"BRL":{"code":"BRL","value":0.0619341968},"BSD":{"code":"BSD","value":0.0120336261},"BTC":{"code":"BTC","value":4.282e-7},"BTN":{"code":"BTN","value":1.0026744535},"BUSD":{"code":"BUSD","value":0.0119990931},"BWP":{"code":"BWP","value":0.1667276074},"BYN":{"code":"BYN","value":0.0395624915},"BYR":{"code":"BYR","value":395.6248791387},"BZD":{"code":"BZD","value":0.0240672522},"CAD":{"code":"CAD","value":0.016441787},"CDF":{"code":"CDF","value":29.8574227288},"CHF":{"code":"CHF","value":0.0109455469},"CLF":{"code":"CLF","value":0.0003016831},"CLP":{"code":"CLP","value":11.0786625173},"CNY":{"code":"CNY","value":0.0878478917},"COP":{"code":"COP","value":52.0366766639},"CRC":{"code":"CRC","value":6.4847513061},"CUC":{"code":"CUC","value":0.0120336261},"CUP":{"code":"CUP","value":0.2888070262},"CVE":{"code":"CVE","value":1.2532939407},"CZK":{"code":"CZK","value":0.2779420315},"DAI":{"code":"DAI","value":0.0120079847},"DJF":{"code":"DJF","value":2.138628063},"DKK":{"code":"DKK","value":0.0844985674},"DOP":{"code":"DOP","value":0.6843745578},"DOT":{"code":"DOT","value":0.0029628116},"DZD":{"code":"DZD","value":1.6627630344},"EGP":{"code":"EGP","value":0.3706558189},"ERN":{"code":"ERN","value":0.1805043914},"ETB":{"code":"ETB","value":0.6693460905},"ETH":{"code":"ETH","value":7.3318e-6},"EUR":{"code":"EUR","value":0.0113609481},"FJD":{"code":"FJD","value":0.0272990077},"FKP":{"code":"FKP","value":0.0098317262},"GBP":{"code":"GBP","value":0.0098327974},"GEL":{"code":"GEL","value":0.0320662478},"GGP":{"code":"GGP","value":0.0098317264},"GHS":{"code":"GHS","value":0.1402458003},"GIP":{"code":"GIP","value":0.0098317269},"GMD":{"code":"GMD","value":0.728358901},"GNF":{"code":"GNF","value":102.7600739945},"GTQ":{"code":"GTQ","value":0.0943298067},"GYD":{"code":"GYD","value":2.5178956124},"HKD":{"code":"HKD","value":0.0942224669},"HNL":{"code":"HNL","value":0.2966844169},"HRK":{"code":"HRK","value":0.0847688483},"HTG":{"code":"HTG","value":1.6184759561},"HUF":{"code":"HUF","value":4.3980137728},"IDR":{"code":"IDR","value":187.6391344923},"ILS":{"code":"ILS","value":0.0462417414},"IMP":{"code":"IMP","value":0.0098317265},"INR":{"code":"INR","value":1},"IQD":{"code":"IQD","value":15.7401167968},"IRR":{"code":"IRR","value":505.5093447118},"ISK":{"code":"ISK","value":1.6496852068},"JEP":{"code":"JEP","value":0.0098317214},"JMD":{"code":"JMD","value":1.8831956814},"JOD":{"code":"JOD","value":0.0085438745},"JPY":{"code":"JPY","value":1.7969025973},"KES":{"code":"KES","value":1.79097835},"KGS":{"code":"KGS","value":1.0670402743},"KHR":{"code":"KHR","value":49.6371654516},"KMF":{"code":"KMF","value":5.6180923172},"KPW":{"code":"KPW","value":10.8299050497},"KRW":{"code":"KRW","value":16.1625368894},"KWD":{"code":"KWD","value":0.0037206776},"KYD":{"code":"KYD","value":0.0100279816},"KZT":{"code":"KZT","value":5.7376003582},"LAK":{"code":"LAK","value":246.4424742159},"LBP":{"code":"LBP","value":180.6371595762},"LKR":{"code":"LKR","value":3.8768336688},"LRD":{"code":"LRD","value":2.2480627943},"LSL":{"code":"LSL","value":0.2347492462},"LTC":{"code":"LTC","value":0.0001836182},"LTL":{"code":"LTL","value":0.0392164039},"LVL":{"code":"LVL","value":0.0079823025},"LYD":{"code":"LYD","value":0.0589040078},"MAD":{"code":"MAD","value":0.1234307268},"MATIC":{"code":"MATIC","value":0.0213062135},"MDL":{"code":"MDL","value":0.2184601763},"MGA":{"code":"MGA","value":54.492625144},"MKD":{"code":"MKD","value":0.6995476146},"MMK":{"code":"MMK","value":25.2089471712},"MNT":{"code":"MNT","value":41.6166408682},"MOP":{"code":"MOP","value":0.0970675787},"MRO":{"code":"MRO","value":4.2960024457},"MUR":{"code":"MUR","value":0.5318278589},"MVR":{"code":"MVR","value":0.1859715331},"MWK":{"code":"MWK","value":13.9868240167},"MXN":{"code":"MXN","value":0.2187265958},"MYR":{"code":"MYR","value":0.0566887386},"MZN":{"code":"MZN","value":0.7663470607},"NAD":{"code":"NAD","value":0.2317610474},"NGN":{"code":"NGN","value":9.2907470174},"NIO":{"code":"NIO","value":0.4382851048},"NOK":{"code":"NOK","value":0.1313048057},"NPR":{"code":"NPR","value":1.5975416987},"NZD":{"code":"NZD","value":0.0200902621},"OMR":{"code":"OMR","value":0.004622718},"OP":{"code":"OP","value":0.0092946598},"PAB":{"code":"PAB","value":0.0120231587},"PEN":{"code":"PEN","value":0.0459169524},"PGK":{"code":"PGK","value":0.0441363387},"PHP":{"code":"PHP","value":0.6822045593},"PKR":{"code":"PKR","value":3.4123796324},"PLN":{"code":"PLN","value":0.0520403891},"PYG":{"code":"PYG","value":88.3255595436},"QAR":{"code":"QAR","value":0.043805897},"RON":{"code":"RON","value":0.0564535999},"RSD":{"code":"RSD","value":1.3271680847},"RUB":{"code":"RUB","value":1.2033332614},"RWF":{"code":"RWF","value":14.6501465846},"SAR":{"code":"SAR","value":0.0450656959},"SBD":{"code":"SBD","value":0.1019758522},"SCR":{"code":"SCR","value":0.1739154047},"SDG":{"code":"SDG","value":7.2382260954},"SEK":{"code":"SEK","value":0.1318879653},"SGD":{"code":"SGD","value":0.0164139886},"SHP":{"code":"SHP","value":0.0098327976},"SLL":{"code":"SLL","value":268.7285970515},"SOL":{"code":"SOL","value":0.000515557},"SOS":{"code":"SOS","value":6.8547978434},"SRD":{"code":"SRD","value":0.4637069587},"STD":{"code":"STD","value":278.4368204955},"SVC":{"code":"SVC","value":0.1052942283},"SYP":{"code":"SYP","value":156.4602726782},"SZL":{"code":"SZL","value":0.2321307315},"THB":{"code":"THB","value":0.4461927308},"TJS":{"code":"TJS","value":0.131296988},"TMT":{"code":"TMT","value":0.0421176913},"TND":{"code":"TND","value":0.0382046032},"TOP":{"code":"TOP","value":0.0286205386},"TRY":{"code":"TRY","value":0.3323304224},"TTD":{"code":"TTD","value":0.0811066483},"TWD":{"code":"TWD","value":0.3869911064},"TZS":{"code":"TZS","value":30.1803320837},"UAH":{"code":"UAH","value":0.4416272636},"UGX":{"code":"UGX","value":45.1846596591},"USD":{"code":"USD","value":0.0120336261},"USDC":{"code":"USDC","value":0.0120200169},"USDT":{"code":"USDT","value":0.0119995778},"UYU":{"code":"UYU","value":0.4715014747},"UZS":{"code":"UZS","value":145.5004828531},"VEF":{"code":"VEF","value":41718.7410380184},"VND":{"code":"VND","value":293.116993033},"VUV":{"code":"VUV","value":1.4623385511},"WST":{"code":"WST","value":0.0322875927},"XAF":{"code":"XAF","value":7.4529399459},"XAG":{"code":"XAG","value":0.0005577046},"XAU":{"code":"XAU","value":6.5678e-6},"XCD":{"code":"XCD","value":0.0324907905},"XDR":{"code":"XDR","value":0.0091550638},"XOF":{"code":"XOF","value":7.4529397126},"XPD":{"code":"XPD","value":1.05209e-5},"XPF":{"code":"XPF","value":1.3549262358},"XPT":{"code":"XPT","value":1.40239e-5},"XRP":{"code":"XRP","value":0.0229373919},"YER":{"code":"YER","value":3.0069222095},"ZAR":{"code":"ZAR","value":0.2319360299},"ZMK":{"code":"ZMK","value":108.3170751946},"ZMW":{"code":"ZMW","value":0.2578987085},"ZWL":{"code":"ZWL","value":67.1629171202}}}')
  console.log(rJson);
  for(let key of Object.keys(rJson["data"])){
        myStr+=`  <tr>
                    <td>${key}</td>
                    <td>${rJson["data"][key]["code"]}</td>
                    <td>${rJson["data"][key]["value"] * value}</td></tr>

    
                `
        
  }
  const tableBody = document.querySelector("tbody");
  tableBody.innerHTML=myStr;
};

const btn = document.querySelector(".btn");
btn.addEventListener("click", (e) => {
  e.preventDefault();
  console.log("Button is clicked");
  const value = parseInt(
    document.querySelector("input[name='quantity']").value
  );
  const currency = parseInt(
    document.querySelector("select[name='currency']").value
  );
  populate(value, currency);
});
